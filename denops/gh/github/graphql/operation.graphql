fragment issueBody on Issue {
  id
  title
  author {
    login
  }
  assignees(first: 10) {
    nodes {
      id
      login
      name
      bio
    }
  }
  body
  labels(first: 20) {
    nodes {
      name
      color
      description
    }
  }
  closed
  number
  repository {
    name
  }
  url
  state
  comments(first: 10) {
    nodes{
      id
    }
  }
}

query getIssue($first: Int!, $query: String!) {
  search(first: $first, type: ISSUE, query: $query) {
    nodes {
      ... on Issue {
        ...issueBody
      }
    }
  }
}
